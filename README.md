# Advanced_VLSI_Physical_Design_Using_OpenLANE_SKY130nm
<img width="897" alt="Banner" src="https://user-images.githubusercontent.com/100553237/183464151-bc5b8a77-4c62-48d0-a80c-607d3da587d4.png">
<br>
<img src="https://user-images.githubusercontent.com/100553237/183477237-1b0824a1-8049-415c-bd19-f190da5eb833.png" width="897">
<br>

* **RTL - GDSII flow**<br>
We define the specification of the design using the Hardware Description Language(HDL) called verilog and the timing constraints are given in the form of standard design constraints(SDC) including the frequency of the design and input&output delay.

* **Synthesis**<br>
Synthesis is the design step in which the RTL description of the design is converted to gate level netlist so that it can be implemented on a chip.

* **PHYSICAL DESIGN**<br>
Physical design is the process of implementing the design taking synthesized netlist and standard cell libraries as the inputs and producing the 
GDSII file which is given as an input to the foundry so as to manufacture it.<br>
Physical design consists of <br>
a) Floorplan<br>
b) Powerplan<br>
c) Placement<br>
d) Clock tree synthesis<br>
e) Routing<br>
f) Physical Verification <br>
g) Timing ECO

* **Design**
For this project, I have chosen the project called picoRV32a, which is a CPU core which implements the RISC-V instruction set.

* **Synthesis Flow**<br>
Inputs<br>
a) RTL behavioural netlist<br>
b) SDC file<br>

Outputs<br>
a) Gate level netlist

After giving the inputs of a RTL bevarioural netlist and SDC file as an input, the flow of commands looks like below, <br>
```
docker
./flow.tcl -interactive
package require openlane 0.9
prep -design picorv32a
run_synthesis
```
In the results that follow, we calculate the total flop ratio which is like below
```
total no of flip flops  : 1613
total no of cells       : 14876
total flop ratio        : 10.86%
```
The `yosys` tool along with the `abc` does the synthesizing and mapping the libraries and also the netlist would be optimized to improve the timing in the 
initial stage itself and afte the process the WNS(worst negative slack) and TNS(total negative slack) would be displayed on the command terminal and also can be checked from the `reports/synthesis` directory.

The initial timing report of my design, generated by `opensta`,  is as follows
```
tns -759.46
wns -24.89
```

* **Floorplan**
Now that the netlist is available with the pre-placed cells, macros and IO pads, we can proceed to place them in the assigned core area surrounded by the die area.
The total chip area of the design is given below, <br>
![image](https://user-images.githubusercontent.com/100553237/183478409-bcfebc10-8047-4006-bd18-b1233c1e8fa1.png)
<br>

We have to runa a command called `run_floorplan`, a super command that initiates the commands like<br>
`init_fp`   creates the standard cells row<br>
`ioplacer`  places the io pads/io pins<br>
`pdn`       creates the power network with stripes made of top two metal layers<br>
`tapcell`   places the decap cells so that the latch up can be solved<br>

The design looks like below post the floorplan,<br>
![image](https://user-images.githubusercontent.com/100553237/183479749-af4647c1-ea37-4b68-814a-deeef493abd7.png)


* **Layout Design**
In this step, we design an inverter using a spice deck file which is like below,<br>
![image](https://user-images.githubusercontent.com/100553237/183483097-80f7c18b-0ff0-4291-a67a-c128272f6f26.png) <br>

and the initial transient looks like, <br>
![initial_transient_solution](https://user-images.githubusercontent.com/100553237/183464164-a3e59327-ab77-4f11-9382-5cdc72a8076d.png) <br>

when we plot the output with respect to the input, the waveform looks like below, <br>
![transient analysis](https://user-images.githubusercontent.com/100553237/183464161-07d79901-840e-4468-a6ae-50d0639a8466.png) <br>

They layout looks like this, <br>
![layout_view](https://user-images.githubusercontent.com/100553237/183464141-098d9ce7-be4e-4d8a-b004-9c9df659bcd4.png) <br>


<br>
Post the power distribution network is laid down, we have to place the standard cells in the core area so that the logic can be achieved, <br>
placements happens in two stages called `global placement` and `detail placement`.<br>
In global placement, the location of the standard cells is estimated and in the detail placement, the standard cells are actually placed <br>
in the core area following all the legalization rules laid down by the foundry. <br>

`RePLace` performs the global placement<br>
`OpenDP`  performs the detail placement<br>

The design is timing optimized as well post the placement process so that the timing violation will be minimal as possible before we proceed further with<br>
the clock tree synthesis.<br>

The design looks like below post the placement process <br>
![image](https://user-images.githubusercontent.com/100553237/183481473-4494ca96-06d1-4ca2-aff8-a8154876792e.png)
<br>

The clock tree synthesis will be synthesized by a tool called `TritonCTS`.<br>
Until this stage the clock network in the design is ideal which means the clock reaches the clock pins at the same time only. <br>
But now the clock is made propagated with clock buffers and clock inverters, and the clock delay will exists because of which the clock signal does not reach the clock pins at the same time<br>
The less the insertion delay, the better is the design network.<br>

Just like placement, Routing will be done in two stages i.e, global routing and detail routing.<br>
After the detail routing, the design looks like below, <br>
![image](https://user-images.githubusercontent.com/100553237/183485893-57f2153e-fb4b-4ad0-83aa-a23f301633ba.png)










